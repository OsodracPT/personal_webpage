<!DOCTYPE html>
<html>
  <head>
    <title>Pacotão do Costa em BTC</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.3/css/bulma.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Highcharts -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script>
      $(document).ready(function () {
        // fetch the Bitcoin price in EUR
        $.getJSON(
          "https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=eur&date=18-03-2022",
          function (data) {
            var bitcoinPrice = data.bitcoin.eur;

            // display the Bitcoin price on the page
            $("#bitcoinPrice").html(
              bitcoinPrice.toLocaleString("de-DE", {
                style: "currency",
                currency: "EUR",
              })
            );

            // calculate the value of 0.00594257 BTC in EUR
            var btcAmount = 0.00594257;
            var euroAmount = btcAmount * bitcoinPrice;

            // display the value of 0.00594257 BTC in EUR on the page
            $("#btcValue").html(
              euroAmount.toLocaleString("de-DE", {
                style: "currency",
                currency: "EUR",
              })
            );

            // display the past value of 0.00594257 BTC on the page
            $("#pastValue").html("125€");

            // calculate the percentage change
            var percentageChange = ((euroAmount - 125) / 125) * 100;

            // display the percentage change on the page
            if (percentageChange > 0) {
              $("#profitability").html(
                "Rentabilidade de " + percentageChange.toFixed(2) + "%"
              );
              $("#profitability").css("color", "green");
            } else if (percentageChange < 0) {
              $("#profitability").html(
                "Unprofitable by " + Math.abs(percentageChange).toFixed(2) + "%"
              );
              $("#profitability").css("color", "red");
            } else {
              $("#profitability").html("No change in value");
              $("#profitability").css("color", "black");
            }
          }
        );
      });
    </script>
    <style>
      .container {
        margin: 50px;
      }
      canvas {
        max-width: 600px;
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <section class="hero is-primary">
      <div class="hero-body">
        <div class="container has-text-centered">
          <img
            src="https://logospng.org/download/bitcoin/logo-bitcoin-1024.png"
            alt="Bitcoin Logo"
            width="220"
            height="220"
          />
          <h1 class="title">Pacotão do Costa em BTC</h1>
        </div>
      </div>
    </section>
    <div class="container">
      <div class="columns">
        <div class="column">
          <p class="subtitle">Preço atual de 1 BTC:</p>
          <h2 class="title" id="bitcoinPrice"></h2>
        </div>
        <div class="column">
          <p class="subtitle">125€ investidos em BTC valem agora:</p>
          <h2 class="title" id="btcValue"></h2>
        </div>
        <div class="column">
          <p class="subtitle">Rentabilidade:</p>
          <h2 class="title" id="profitability"></h2>
        </div>
      </div>
    </div>
    <body>
        <div class="hero is-primary">
            <div class="hero-body">
                <div class="container">
                    <h1 class="title">Bitcoin Price Chart</h1>
                </div>
            </div>
        </div>
        <section class="section">
            <div class="container">
              <div style="height:540px; padding:0px; margin:0px; width: 100%;"><iframe src="https://widget.coinlib.io/widget?type=chart&amp;theme=light&amp;coin_id=859&amp;pref_coin_id=1506" width="100%" height="536px" scrolling="auto" marginwidth="0" marginheight="0" frameborder="0" border="0" style="border:0;margin:0;padding:0;line-height:14px;"></iframe></div><div style="color: #FFFFFF; line-height: 14px; font-weight: 400; font-size: 11px; box-sizing: border-box; padding: 2px 6px; width: 100%; font-family: Verdana, Tahoma, Arial, sans-serif;"><a href="https://coinlib.io" target="_blank" style="font-weight: 500; color: #FFFFFF; text-decoration:none; font-size:11px">Cryptocurrency Prices</a>&nbsp;by Coinlib</div>            <div class="container has-text-centered">
                <h1>
                    Chart data provided by <a href="https://coinlib.io/">coinlib.io</a>. Created by <a href="https://github.com/OsodracPT">OsodracPT</a>
                </h1>
            </div>        
        </section>
    </body>
</html>
